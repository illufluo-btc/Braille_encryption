# 盲文密码系统 (Braille Cipher System)

## 概述

这是一个基于盲文（Braille）编码的创新密码系统，将个人记忆密钥与盲文编码相结合，创造出看似随机但可解密的安全密码。

## 核心原理

### 密钥系统
- **密钥(key)**：使用一串你永远记得住但别人无法猜到的数字和字母组合，最好不要包含个人的姓名和生日。
- **字符转化**：密钥中出现的字符转化成1，对应盲文中的黑点，未出现过的字符转化成0，对应盲文中的白点。
- **支持的字符**：所有数字(0-9)和小写字母(a-z)，共36个字符。

数字支持0-9，字母支持a-z，总共36种字符，密钥中出现过的字符数越接近18，密码随机性越高。

### 盲文编码结构
```
盲文点阵编号:  1 4
             2 5  
             3 6
```

### 双单元格系统
每个明文字符都会被编码为 两个 2×3 的盲文单元格，并在输出的三行密文中占用 4 列（每个单元格占 2 列）。因此，每行长度 = 4 × 明文长度，中间不插空格。

1. **前缀单元格（模式指示）**

用来 指示紧随其后的“实际单元格”该按字母还是数字解读。它本身不承载正文。

数字前缀（Numeric Prefix）

默认：⠼（点 3-4-5-6；写作 3456）。

可自定义多个：在输入时用逗号分隔，支持 1–6 的任意组合，例如：

3456,124

解码规则：只要前缀单元格的点位属于这个集合中的任意一个图案，就意味着下一个单元格中是数字。

字母前缀（Letter Prefix）

其余所有不在“数字前缀集合”里的点位组合，都被视为字母前缀。

编码时：程序会从所有非数字前缀的图案中随机挑选一个作为字母前缀，以降低被频率分析识别的风险。（包含全空白 ∅ 在内的任意图案都可能被选中，只要不在数字前缀集合里）

提示：

你可以配置多个数字前缀（例如 3456,124,156）；越多越隐蔽，密码随机度越高，但也不建议太多，否则不方便记忆，而且字母前缀会变少。

“前缀图案”是否与某个字母本身的盲文图案相同不影响——它只是前缀单元，并不代表那个字母。

2. **实际单元格（载荷）**

用于承载 真正的字符内容。前缀确定模式后，实际单元格按对应规则解读：

字母模式：使用 Grade-1 盲文 的标准映射（a..z → 点位）。

数字模式：按照盲文惯例，数字 1..9,0 与字母 a..j 的点位对应：

1→a, 2→b, 3→c, 4→d, 5→e, 6→f, 7→g, 8→h, 9→i, 0→j

也就是说：当处于数字模式时，实际单元格的点位若对应 a..j，就分别解读为 1..0。

说明：系统采用逐字符前缀的方式（每个明文字符都有一个前缀单元），不是“前缀一次对后面一长串都生效”的段落式规则。

3. **位→字符的随机映射**

两个单元格各自是一个 2×3 点阵，展开为三行各 2 列的 0/1 位。系统将每一位独立映射为字符：

位 = 1：从密钥集合中随机选一个字符

位 = 0：从密钥集合之外随机选一个字符

这样同一段明文在同样参数下也会得到不同的三行密文，但用相同的密钥与数字前缀解码，结果唯一。

提示：所有数字和字母以及默认数字前缀都根据布莱叶式盲文规则，方便在互联网上查阅，不需要自己记忆

## 文件说明

### 编码器文件
- `braille_encode.py` - 中文界面版本
- `braille_encode_en.py` - 英文界面版本

### 解码器文件  
- `braille_decode.py` - 中文界面版本
- `braille_decode_en.py` - 英文界面版本

## 使用方法

### 加密（编码）
```bash
python3 braille_encode.py
```

1. **输入密钥**：你的个人记忆字符串（如：`abc123xyz`）
2. **输入明文**：要加密的内容（仅支持数字和字母）
3. **选择数字前缀**：使用默认(3456)或自定义
4. **获得密文**：三行看似乱码的字符串

=== Braille 密码编码器 ===
请输入密钥 (数字和字母): abc123   

请输入要加密的文本 (数字和字母): a14

使用默认数字前缀? (y/n，默认y): n

请输入数字前缀 (如 3456,124): 124,256     

=== 加密结果 ===
2o2hou1i0ga3

hlmpabw7b3x2

3bxwu1shrb80

### 解密（解码）
```bash
python3 braille_decode.py
```

1. **输入密钥**：和加密时相同的个人记忆字符串
2. **输入密文**：三行密文字符串
3. **输入数字前缀**：加密时使用的数字前缀
4. **获得明文**：原始内容

=== Braille 密码解码器 ===
请输入密钥 (数字和字母): abc123

请输入密文的三行:

第1行: 2o2hou1i0ga3

第2行: hlmpabw7b3x2

第3行: 3bxwu1shrb80

请输入编码时使用的数字前缀 (如 3456,124): 124,256

=== 解密结果 ===
a14

## 工作流程示例

### 字符转化规则
```
密钥字符: abc123
原字符: 0 1 2 3 4 5 6 7 8 9 a b c d e f g h i j k l m n o p q r s t u v w x y z
转化后: 0 1 1 1 0 0 0 0 0 0 1 1 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
```

### 字符处理
对于明文 `a14`：
- `a` → 字母，使用字母前缀(非124，256) + `a`的盲文
- `1` → 数字，使用数字前缀(124,256) + `a`的盲文（1→a）
- `4` → 数字，使用数字前缀 + `d`的盲文（4→d）

### 位图转字符
每个盲文单元格的位图：
- 位=1 → 从密钥字符中随机选择
- 位=0 → 从非密钥字符中随机选择

### 输出密文
生成三行看似随机的字符串，实际包含了盲文编码信息。

## 安全特性

1. **隐蔽性**：密文看起来像随机字符串，无明显规则
2. **个人化**：基于个人记忆的密钥，难以暴力破解
3. **随机性**：每次加密同样内容产生不同密文
4. **完整性**：需要确切的密钥才能正确解密

## ⚡ 技术细节

### 依赖库
- `sys` - 系统操作
- `secrets` - 安全随机数生成
- `string` - 字符串常量

### 盲文字母映射表
完整的盲文字母对应表已内置，支持a-z的标准盲文转换。

### 错误处理
- 密钥验证：确保包含有效字符且不覆盖全字符集
- 格式检查：验证密文格式和长度
- 解码验证：确保盲文模式有效

##  适用场景

- 个人密码管理
- 安全笔记加密
- 隐蔽信息传输

---

